(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[664],{2317:(e,i,t)=>{"use strict";t.d(i,{default:()=>o});var s=t(5155),d=t(2115),a=t(3550),n=t(6874),r=t.n(n),l=t(5695);function o(){let[e,i]=(0,d.useState)([]),t=(0,l.useRouter)();(0,d.useEffect)(()=>{i((0,a.Zq)())},[]);let n=e=>new Date(e).toLocaleDateString(),o=e=>{t.push("/rejsy/".concat(e))};return(0,s.jsxs)("div",{className:"w-full max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Rejsy"}),(0,s.jsx)(r(),{href:"/rejsy/dodaj",className:"rounded-full bg-blue-600 text-white px-4 py-2 hover:bg-blue-700 transition-colors",children:"Dodaj rejs"})]}),0===e.length?(0,s.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-gray-600",children:"Brak zapisanych rejs\xf3w"}),(0,s.jsx)(r(),{href:"/rejsy/dodaj",className:"text-blue-600 mt-2 inline-block hover:underline",children:"Dodaj pierwszy rejs"})]}):(0,s.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>o(e.id),children:[(0,s.jsx)("div",{className:"flex justify-between",children:(0,s.jsx)("h2",{className:"text-xl font-semibold",children:e.name})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mt-2 text-sm text-gray-600",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Utworzono:"})," ",n(e.dateCreated)]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Zmodyfikowano:"})," ",n(e.dateModified)]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Długość:"})," ",e.length," dni"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Załoga:"})," ",e.crew," os\xf3b"]})]})]},e.id))})]})}},2887:(e,i,t)=>{Promise.resolve().then(t.bind(t,2317))},3550:(e,i,t)=>{"use strict";t.d(i,{EK:()=>o,LQ:()=>n,Qr:()=>a,VU:()=>r,Zq:()=>d,_1:()=>c,c4:()=>l,mb:()=>p,od:()=>u,yY:()=>m});let s="cyber-ochmistrz-cruises";function d(){let e=localStorage.getItem(s);if(e)try{let i=JSON.parse(e),t=!1,d=i.map(e=>{let i={...e},s=!1;if(!i.days){let e=Array.from({length:i.length},(e,i)=>({dayNumber:i+1,recipes:[]}));i.days=e,s=!0}return i.additionalSupplies||(i.additionalSupplies=[],s=!0),s&&(t=!0),i});t&&localStorage.setItem(s,JSON.stringify(d))}catch(e){console.error("Failed to migrate cruises:",e)}let i=localStorage.getItem(s);return i?JSON.parse(i):[]}function a(e){return d().find(i=>i.id===e)}function n(e){let i=d(),t=i.findIndex(i=>i.id===e.id);t>=0?i[t]={...e,dateModified:new Date().toISOString()}:i.push(e),localStorage.setItem(s,JSON.stringify(i))}function r(e){let i=d().filter(i=>i.id!==e);localStorage.setItem(s,JSON.stringify(i))}function l(e,i,t){let s=new Date().toISOString(),d=Array.from({length:i},(e,i)=>({dayNumber:i+1,recipes:[]}));return{id:Date.now().toString(),name:e,dateCreated:s,dateModified:s,length:i,crew:t,days:d}}function o(e,i,t){let s=a(e);if(!s)return;let d=s.days.findIndex(e=>e.dayNumber===i);-1!==d&&(s.days[d].recipes.includes(t)||(s.days[d].recipes.push(t),n(s)))}function c(e,i,t){let s=a(e);if(!s)return;let d=s.days.findIndex(e=>e.dayNumber===i);-1!==d&&(s.days[d].recipes=s.days[d].recipes.filter(e=>e!==t),n(s))}function u(e,i,t){let s=a(e);if(!s)return;s.additionalSupplies||(s.additionalSupplies=[]);let d=s.additionalSupplies.findIndex(e=>e.id===i);d>=0?s.additionalSupplies[d].amount=t:s.additionalSupplies.push({id:i,amount:t}),n(s)}function p(e,i,t){let s=a(e);if(!s||!s.additionalSupplies)return;let d=s.additionalSupplies.findIndex(e=>e.id===i);-1!==d&&(s.additionalSupplies[d].amount=t,n(s))}function m(e,i){let t=a(e);t&&t.additionalSupplies&&(t.additionalSupplies=t.additionalSupplies.filter(e=>e.id!==i),n(t))}},5695:(e,i,t)=>{"use strict";var s=t(8999);t.o(s,"useRouter")&&t.d(i,{useRouter:function(){return s.useRouter}})}},e=>{var i=i=>e(e.s=i);e.O(0,[874,441,684,358],()=>i(2887)),_N_E=e.O()}]);